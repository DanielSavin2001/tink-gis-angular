/*! tink-gis-angular v1.0.0 */
!function(module){"use strict";module=angular.module("tink.gis.angular");var directiveName="layer",theDirective=function(){return{restrict:"E",scope:{layerData:"="},templateUrl:"templates/layer.html",controllerAs:"layerctrl"}},theController=module.controller("layerctrl",function($scope,$http,GisDataService){$scope.changeVisibility=function(url){GisDataService.changeVisibility(url)}});theController.$inject=["GisDataService"],angular.module("tink.gis.angular").directive(directiveName,theDirective)}(),function(module){module=angular.module("tink.gis.angular");var theController=module.controller("mainlayerDirective",function($scope,$http,GisDataService){$scope.layers=GisDataService.layers,$scope.changeVisibility=function(url){GisDataService.changeVisibility(url)}});theController.$inject=["GisDataService"],module.directive("layerControl",function(){return{templateUrl:"templates/mainlayerTemplate.html",controllerAs:"layerControlctrl"}})}(),function(module){try{module=angular.module("tink.gis.angular")}catch(e){module=angular.module("tink.gis.angular",["leaflet-directive"])}module.directive("tink-map",function(){return{templateUrl:"templates/tinkmaptemplate.html",scope:{parlayers:"=",parcenter:"="},controller:function($scope,leafletData){function clone(obj){var copy;if(null==obj||"object"!=typeof obj)return obj;if(obj instanceof Date)return copy=new Date,copy.setTime(obj.getTime()),copy;if(obj instanceof Array){copy=[];for(var i=0,len=obj.length;len>i;i++)copy[i]=clone(obj[i]);return copy}if(obj instanceof Object){copy={};for(var attr in obj)obj.hasOwnProperty(attr)&&(copy[attr]=clone(obj[attr]));return copy}throw new Error("Unable to copy obj! Its type isn't supported.")}var Alllayers=clone($scope.parlayers);angular.extend($scope,{center:clone($scope.parcenter),layers:{baselayers:$scope.parlayers},defaults:{zoomControl:!1},controls:{scale:{imperial:!1}}}),$scope.zoomIn=function(){$scope.center.zoom++},$scope.zoomOut=function(){$scope.center.zoom--},$scope.changeBaseLayer=function(layerName){var switchLayerName,baselayers=$scope.layers.baselayers;switchLayerName="luchtfoto"==layerName?"kaart":"luchtfoto",delete baselayers[switchLayerName],baselayers[layerName]=Alllayers[layerName]},$scope.fullExtent=function(){$scope.center.zoom=$scope.parcenter.zoom,$scope.center.lat=$scope.parcenter.lat,$scope.center.lng=$scope.parcenter.lng},$scope.kaartIsGetoond=!0,$scope.toonKaart=function(){$scope.kaartIsGetoond=!0,$scope.changeBaseLayer("kaart")},$scope.toonLuchtfoto=function(){$scope.kaartIsGetoond=!1,$scope.changeBaseLayer("luchtfoto")}}}})}(),function(){"use strict";var componentName="GisDataService",theComponent=function($http){function _add(){return layerDataService.add=function(item){_layers.push(item)},layerDataService.add}function _list(){return _layers}function fn(obj,key){return _.has(obj,key)?[obj]:_.flatten(_.map(obj,function(v){return"object"==typeof v?fn(v,key):[]}),!0)}function _changeVisibility(url){var overlays=_mapData.layers.overlays,res=fn(overlays,"url");res.forEach(function(layer){layer.url==url&&(layer.visible=!layer.visible)},this)}var _mapData=initData(),_layers=[],layerDataService={};return $http.get("../scripts/layerControl/layerControlData.json").then(function(res){res.data.forEach(function(layer){_layers.push(layer)},this)}),{add:_add,list:_list,layers:_layers,changeVisibility:_changeVisibility,mapData:_mapData}};angular.module("tink.gis.angular").factory(componentName,theComponent)}(),function(){"use strict";var componentName="ErrorHandler",theComponent=function(appService){function _handle(errorResponse){var message="fout bij call naar "+errorResponse.config.url+" ("+errorResponse.config.method+") - "+errorResponse.status+" ";message+=errorResponse.data&&errorResponse.data.message?errorResponse.data.message:errorResponse.statusText,appService.logger.error(message)}function _getErrorMessage(errorResponse,defaultMessage){return defaultMessage=defaultMessage||"unknown error",errorResponse.data?errorResponse.data.listOfHttpError?errorResponse.data.listOfHttpError.message?errorResponse.data.listOfHttpError.message:errorResponse.statusText?errorResponse.statusText:defaultMessage:errorResponse.data.message?errorResponse.data.message:errorResponse.statusText?errorResponse.statusText:defaultMessage:errorResponse.statusText?errorResponse.statusText:defaultMessage}return appService.logger.creation(componentName),{handle:_handle,getErrorMessage:_getErrorMessage}};theComponent.$inject=["AppService"],angular.module("tink.gis.angular").factory(componentName,theComponent)}(),function(){"use strict";var componentName="Logger",theComponent=function($log,appConfig){function _success(message){appConfig.enableLog&&$log.log(message)}function _debug(message){appConfig.enableLog&&appConfig.enableDebug&&$log.debug(message)}function _info(message){appConfig.enableLog&&$log.info(message)}function _warn(message){appConfig.enableLog&&$log.warn(message)}function _error(message){appConfig.enableLog&&$log.error(message)}function _creation(name){_debug(name+" : gecreëerd.")}function _initialization(name){_debug(name+" : geïnitialiseerd.")}return{success:_success,debug:_debug,info:_info,warn:_warn,error:_error,creation:_creation,init:_initialization}};theComponent.$inject=["$log","appConfig"],angular.module("AppService").factory(componentName,theComponent)}(),angular.module("tink.gis.angular").run(["$templateCache",function($templateCache){"use strict";$templateCache.put("templates/layer.html",' <input style="opacity: 1;position: relative;z-index:100" type=checkbox ng-model=layerData.visible ng-change=changeVisibility(layerData.url)>\n{{layerData.name}} '),$templateCache.put("templates/layertemplate.html",'\r\n\r\n<tink-accordion data-start-open="true">\r\n	<div ng-repeat="theme in layers">  \r\n<tink-accordion-panel>\r\n	 <data-header>\r\n   <input style="opacity: 1;position: relative;z-index:100"; type="checkbox" ng-model="theme.visible">\r\n	 {{theme.name}}\r\n  </data-header>\r\n    <data-content>\r\n\r\n\r\n\r\n	\r\n	\r\n	 \r\n	 <div ng-repeat="group in theme.groups">\r\n		<input style="opacity: 1;position: relative;z-index:100"; type="checkbox" ng-model="group.visible">\r\n		 {{group.name}}\r\n		 \r\n		 <div ng-repeat="layer in group.layers">\r\n			\r\n               <layer  layer="layer"></layer>\r\n		 </div>\r\n\r\n		 \r\n	 </div>\r\n	 \r\n	 \r\n</div>\r\n\r\n  </data-content>\r\n  </tink-accordion-panel>\r\n  </div>\r\n</tink-accordion>'),$templateCache.put("templates/overlayBasetemplate.html",'<!--theme-->\r\n<tink-accordion data-start-open="true">\r\n    <div ng-repeat="theme in layers">\r\n        <tink-accordion-panel>\r\n            <data-header>\r\n                <input style="opacity: 1;position: relative;z-index:100" ; type="checkbox" ng-model="theme.visible"> {{theme.name}}\r\n            </data-header>\r\n            <data-content>\r\n                <!--group-->\r\n                <tink-accordion data-start-open="true">\r\n                    <div ng-repeat="group in theme.groups">\r\n                        <tink-accordion-panel>\r\n                            <data-header>\r\n                                <input style="opacity: 1;position: relative;z-index:100" ; type="checkbox" ng-model="group.visible"> {{group.name}}\r\n                            </data-header>\r\n                            <data-content>\r\n                                <div ng-repeat="layerhup in group.layers">\r\n                                    <layer layer-data="layerhup"></layer>\r\n                                </div>\r\n                            </data-content>\r\n                        </tink-accordion-panel>\r\n                    </div>\r\n                </tink-accordion>\r\n            </data-content>\r\n        </tink-accordion-panel>\r\n    </div>\r\n</tink-accordion>'),$templateCache.put("templates/tinkmaptemplate.html",' <div id=content> <div class=wrapper> <leaflet id=standaardmap class=leafletmap center=center layers=layers controls defaults=defaults> <div class="btn-group ll searchbtns"> <button type=button class=btn><i class="fa fa-map-marker"></i></button>\n<button type=button class=btn><i class="fa fa-download"></i></button> </div> <div class="btn-group btn-group-vertical ll interactiebtns"> <button type=button class="btn active"><i class="fa fa-info"></i></button>\n<button type=button class=btn><i class="fa fa-mouse-pointer"></i></button>\n<button type=button class=btn><i class="fa fa-download"></i></button> </div> <div class="ll zoekbalken"> <input id=zoekbalk1 placeholder="Welke locatie of adres zoek je?">\n<input class=invisible placeholder="Welke locatie of adres zoek je?"> </div> <div class="ll btn-group ll kaarttypes"> <button class=btn ng-class="{active: kaartIsGetoond==true}" ng-click=toonKaart()>Kaart</button>\n<button class=btn ng-class="{active: kaartIsGetoond==false}" ng-click=toonLuchtfoto()>Luchtfoto</button> </div> <div class="btn-group btn-group-vertical ll viewbtns"> <button type=button class=btn ng-click=zoomIn()><i class="fa fa-plus"></i></button>\n<button type=button class=btn ng-click=zoomOut()><i class="fa fa-minus"></i></button>\n<button type=button class=btn ng-click=""><i class="fa fa-crosshairs"></i></button>\n<button type=button class=btn ng-click=fullExtent()><i class="fa fa-home"></i></button> </div> <div class="ll localiseerbtn"> <button type=button class=btn><i class="fa fa-male"></i></button> </div> </leaflet> </div> </div>')}]);
//# sourceMappingURL=tink-gis-angular.min.map