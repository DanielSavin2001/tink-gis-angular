{"version":3,"sources":["tink-gis-angular.js"],"names":["module","angular","e","controller","$scope","vm","this","grouplayer","chkChanged","$emit","theController","layer","$inject","$http","map","MapService","themes","Themes","selectedLayers","BaseLayersService","layerId","activeInteractieKnop","Data","SelectableLayers","VisibleLayers","SelectedLayer","selectedLayer","on","event","console","log","IsDrawing","cleanMapAndSearch","Identify","_","isEmpty","$apply","Query","x","VisibleFeatures","length","removeLayer","JsonFeatures","clearDrawings","identify","$","hide","select","show","layerChange","zoomIn","zoomOut","fullExtent","setView","L","LatLng","kaartIsGetoond","toonKaart","luchtfoto","addLayer","kaart","toonLuchtfoto","features","theme","$on","groupLayer","UpdateGroupLayerStatus","UpdateLayerStatus","UpdateThemeStatus","Visible","directive","replace","scope","templateUrl","controllerAs","constant","apiUrl","enableDebug","enableLog","element","attrs","bind","preventDefault","stopPropagation","mapObject","center","zoom","layers","tileLayer","id","zoomControl","drawControl","doubleClickZoom","disable","control","scale","imperial","addTo","drawnItems","featureGroup","clearLayers","factory","baseLayersService","_baseLayersService","tms","layersService","_layersService","mapService","$rootScope","ThemeHelper","$q","_mapService","getLayerUrls","defaultlayer","name","unshift","loadAllLayers","promises","each","layerurl","prom","get","success","data","statuscode","functie","getdata","convertedTheme","createThemeFromJson","push","GetAllLayers","all","then","lagen","tolerance","RecalculateVisibleLayerIds","layersVoorIdentify","identifOnThisTheme","VisibleLayerIds","Naam","MapData","at","latlng","run","error","featureCollection","AddFeatures","Select","featureItem","myStyle","fillOpacity","mapItem","geoJson","style","query","intersects","response","visibleOnMap","visible","parent","indexOfLayerInVisibleLayers","indexOf","splice","indexOfLayerInVisibleLayersOfMap","Layers","childlayer","Groups","layerGroup","service","themeHelper","rawdata","getData","thema","rawlayers","cleanUrl","url","substring","documentInfo","Title","alllayers","group","esri","dynamicMapLayer","opacity","useCors","forEach","visLayer","parentLayerId","subLayerIds","rawlayer","_service","$templateCache","put"],"mappings":"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","file":"tink-gis-angular.min.js"}