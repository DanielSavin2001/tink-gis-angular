{"version":3,"file":"tink-gis-angular.min.js","sources":["tink-gis-angular.js"],"names":["module","angular","e","controller","$scope","visChanged","$emit","grouplayer","theController","layer","$inject","$http","map","MapService","themes","Themes","selectedLayers","BaseLayersService","layerId","activeInteractieKnop","selectedLayer","SelectableLayers","VisibleLayers","on","event","IsDrawing","console","log","cleanMapAndSearch","Identify","_","isEmpty","$apply","Query","x","VisibleFeatures","length","removeLayer","JsonFeatures","clearDrawings","identify","$","hide","select","show","layerChange","zoomIn","zoomOut","fullExtent","setView","L","LatLng","kaartIsGetoond","toonKaart","luchtfoto","addLayer","kaart","toonLuchtfoto","vm","this","features","$on","groupLayer","UpdateGroupLayerStatus","theme","UpdateLayerStatus","UpdateThemeStatus","Visible","directive","replace","scope","templateUrl","parlayers","parcenter","controllerAs","constant","apiUrl","enableDebug","enableLog","element","attrs","bind","preventDefault","stopPropagation","mapObject","center","zoom","layers","tileLayer","id","zoomControl","drawControl","doubleClickZoom","disable","control","scale","imperial","addTo","drawnItems","featureGroup","clearLayers","factory","baseLayersService","_baseLayersService","tms","layersService","_layersService","mapService","$rootScope","ThemeHelper","$q","_mapService","push","name","getLayerUrls","loadAllLayers","promises","each","layerurl","prom","get","success","data","statuscode","functie","getdata","convertedTheme","createThemeFromJson","GetAllLayers","all","then","values","tolerance","RecalculateVisibleLayerIds","layersVoorIdentify","identifOnThisTheme","VisibleLayerIds","Naam","MapData","at","latlng","run","error","featureCollection","featureItem","myStyle","fillOpacity","mapItem","geoJson","style","query","intersects","response","item","visibleOnMap","visible","parent","indexOfLayerInVisibleLayers","indexOf","splice","indexOfLayerInVisibleLayersOfMap","Layers","childlayer","Groups","layerGroup","service","themeHelper","rawdata","getData","thema","rawlayers","cleanUrl","url","substring","documentInfo","Title","alllayers","group","esri","dynamicMapLayer","opacity","useCors","forEach","visLayer","parentLayerId","subLayerIds","rawlayer","_service","$templateCache","put"],"mappings":"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"}