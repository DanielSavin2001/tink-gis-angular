{"version":3,"file":"tink-gis-angular.min.js","sources":["tink-gis-angular.js"],"names":["module","angular","e","controller","$scope","visChanged","$emit","grouplayer","theController","$http","GisDataService","layer","$inject","map","MapService","themes","Themes","selectedLayers","HelperService","BaseLayersService","layerId","activeInteractieKnop","selectedLayer","VisibleLayers","on","IsDrawing","cleanMapAndSearch","_","each","theme","MapData","identify","at","latlng","layers","id","run","error","featureCollection","x","features","length","JsonFeatures","push","item","L","geoJson","addTo","VisibleFeatures","$apply","isEmpty","console","log","event","query","intersects","response","removeLayer","$","hide","select","show","layerChange","zoomIn","zoomOut","fullExtent","setView","LatLng","kaartIsGetoond","toonKaart","luchtfoto","addLayer","kaart","toonLuchtfoto","Locate","$on","groupLayer","UpdateGroupLayerStatus","UpdateLayerStatus","UpdateThemeStatus","directive","replace","scope","templateUrl","parlayers","parcenter","constant","apiUrl","enableDebug","enableLog","element","attrs","bind","preventDefault","stopPropagation","mapObject","center","zoom","tileLayer","zoomControl","drawControl","doubleClickZoom","disable","control","scale","imperial","drawnItems","featureGroup","clearLayers","factory","gisDataService","_layerData","get","success","data","layerData","baseLayersService","_baseLayersService","tms","helperService","_helperService","clone","obj","copy","Date","setTime","getTime","Array","i","len","Object","attr","hasOwnProperty","Error","findNested","key","has","flatten","v","layersService","_layersService","mapService","ThemeHelper","_mapService","jsonFeatures","getLayers","layerurl","statuscode","functie","getdata","createThemeFromJson","visibleOnMap","Visible","visible","parent","indexOfLayerInVisibleLayers","VisibleLayersIds","indexOf","splice","indexOfLayerInVisibleLayersOfMap","Layers","childlayer","Groups","layerGroup","service","themeHelper","rawdata","thema","rawlayers","cleanUrl","url","substring","Naam","documentInfo","Title","esri","dynamicMapLayer","opacity","useCors","parentLayerId","subLayerIds","rawlayer","$templateCache","put"],"mappings":"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"}